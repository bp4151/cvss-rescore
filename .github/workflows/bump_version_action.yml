name: Bump Version Action
on:
  push:
    branches:
    - release/*
  workflow_dispatch:
jobs:
  bump_release:
    env:
      OWNER: "bp4151"
      REPO: "cvss-rescore"
      CVSS_RESCORE_GH_TOKEN: ${{ secrets.CVSS_RESCORE_GH_TOKEN }}
    name: Bump release version
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3.3.0
    - name: run pip install and bump script
      run: |
        pip install -r .github/workflows/bump_version_requirements.txt
        python .github/workflows/bump_version.py
  tox_build:
    name: Build project using Tox
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: run tox build
      run: | 
        pip install tox setuptools
        tox -e build
    - name: check tox output
    - run: ls -lart dist 
  
